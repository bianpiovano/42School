#    ╔──────────────────────────────────────────────────────𐙚⋆°｡
#    │.         .    .-..   .         .                     │
#    │|      o  |    | _|_  |      o  |                     │
#    │|      .  |.-.-|- |   |      .  |.-. .--..-.  .--..  .│
#    │|      |  |   )|  |   |      |  |   )|  (   ) |   |  |│
#    │'---'-' `-'`-' '  `-' '---'-' `-'`-' '   `-'`-'   `--|│
#    │                                                     ;│
#    │                                                  `-' │
#  °⋆𐙚──────────────────────────────────────────────────────╝
#                               ˋ°•*⁀➷  𝓜𝓪𝓴𝓮 𝓕𝓲𝓵𝓮  ✩⋆˚☾

# ╭─────── · · ୨୧ · · ───────╮
#    Ｆｉｌｅ Ｖａｒｉａｂｌｅｓ
# ╰─────── · · ୨୧ · · ───────╯

# 𝕊𝕥𝕣𝕚𝕟𝕘 𝕄𝕒𝕟𝕚𝕡𝕦𝕝𝕒𝕥𝕚𝕠𝕟 𝔽𝕦𝕟𝕔𝕥𝕚𝕠𝕟𝕤 #
# ───୨ৎ──── ⑅ ♡ ⑅  ────୨ৎ────
STR_SRCS = ft_strlen.c \
           ft_strlcpy.c \
           ft_strlcat.c \
           ft_strchr.c \
           ft_strrchr.c \
           ft_strncmp.c \
           ft_strnstr.c \
           ft_strdup.c \
           ft_substr.c \
           ft_strjoin.c \
           ft_strtrim.c \
           ft_split.c \
           ft_strmapi.c \
           ft_striteri.c

#•°¯`•• 𝕄𝕖𝕞𝕠𝕣𝕪 𝔽𝕦𝕟𝕔𝕥𝕚𝕠𝕟𝕤 ••`¯°•#
# ───୨ৎ──── ⑅ ♡ ⑅  ────୨ৎ────
MEM_SRCS = ft_bzero.c \
           ft_memcpy.c \
           ft_memset.c \
           ft_memmove.c \
           ft_memchr.c \
           ft_memcmp.c \
           ft_calloc.c

# ℂ𝕙𝕒𝕣𝕒𝕔𝕥𝕖𝕣 ℂ𝕙𝕖𝕔𝕜 𝕒𝕟𝕕 ℂ𝕠𝕟𝕧𝕖𝕣𝕤𝕚𝕠𝕟 𝔽𝕦𝕟𝕔𝕥𝕚𝕠𝕟𝕤 #
# ───୨ৎ──── ⑅ ♡ ⑅  ────୨ৎ────
CHAR_SRCS = ft_isalnum.c \
            ft_isalpha.c \
            ft_isascii.c \
            ft_isdigit.c \
            ft_isprint.c \
            ft_toupper.c \
            ft_tolower.c

# ℂ𝕠𝕟𝕧𝕖𝕣𝕤𝕚𝕠𝕟 𝕒𝕟𝕕 𝕌𝕥𝕚𝕝𝕚𝕥𝕪 𝔽𝕦𝕟𝕔𝕥𝕚𝕠𝕟𝕤 #
# ───୨ৎ──── ⑅ ♡ ⑅  ────୨ৎ────
UTIL_SRCS = ft_atoi.c \
            ft_itoa.c

#•°¯`•• 𝔽𝕚𝕝𝕖 𝔻𝕖𝕤𝕔𝕣𝕚𝕡𝕥𝕠𝕣 𝔽𝕦𝕟𝕔𝕥𝕚𝕠𝕟𝕤 ••`¯°•#
# ───୨ৎ──── ⑅ ♡ ⑅  ────୨ৎ────
FD_SRCS = ft_putchar_fd.c \
          ft_putstr_fd.c \
          ft_putendl_fd.c \
          ft_putnbr_fd.c

# ℂ𝕠𝕞𝕓𝕚𝕟𝕖 𝕒𝕝𝕝 𝕤𝕠𝕦𝕣𝕔𝕖 𝕗𝕚𝕝𝕖𝕤 #
# ───୨ৎ──── ⑅ ♡ ⑅  ────୨ৎ────
SRCS = $(STR_SRCS) $(MEM_SRCS) $(CHAR_SRCS) $(UTIL_SRCS) $(FD_SRCS)
OBJS = $(SRCS:.c=.o)

# ╭─────── · · ୨୧ · · ───────╮
#    Ｂｏｎｕｓ Ｖａｒｉａｂｌｅｓ
# ╰─────── · · ୨୧ · · ───────╯

# ℕ𝕠𝕕𝕖_𝕝𝕚𝕤𝕥 𝕄𝕒𝕟𝕚𝕡𝕦𝕝𝕒𝕥𝕚𝕠𝕟 𝔽𝕦𝕟𝕔𝕥𝕚𝕠𝕟𝕤 #
# ───୨ৎ──── ⑅ ♡ ⑅  ────୨ৎ────
# BONUS_SRCS = ft_lstnew_bonus.c \
#             ft_lstadd_front_bonus.c \
#            ft_lstsize_bonus.c \
#            ft_lstlast_bonus.c \
#            ft_lstadd_back_bonus.c \
#            ft_lstdelone_bonus.c \
#            ft_lstclear_bonus.c \
#            ft_lstiter_bonus.c \
#            ft_lstmap_bonus.c

# BONUS_OBJS = $(BONUS_SRCS:.c=.o)

# ╭───────── · · ୨୧ · · ─────────╮
#  Ｃｏｍｐｉｌａｔｉｏｎ Ｖａｒｉａｂｌｅｓ
# ╰───────── · · ୨୧ · · ─────────╯

INCS    = ./
NAME    = libft.a
LIBC    = ar rc
CC      = cc
CFLAGS  = -Wall -Werror -Wextra -g
RM      = rm -f

# Color codes
# ────୨ৎ────
PINK = \033[38;2;255;105;180m
RESET = \033[0m

#⋆✴︎˚｡⋆✿˚｡⋆｡⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚⋆✴⋆｡⋆⋆✴︎˚｡#
#               Compilation Rules             #
#˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖#

# Compile .c files into .o files
.c.o:
	@echo "$(PINK)Compiling $<...$(RESET)"
	$(CC) $(CFLAGS) -c $< -o $@ -I $(INCS)

# Link all object files into the library archive
$(NAME): $(OBJS)
	@echo "$(PINK)Creating library $(NAME)...$(RESET)"
	$(LIBC) $@ $^

#⋆✴︎˚｡⋆✴︎˚｡⋆｡⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✿˚｡⋆⋆✴︎˚⋆✴⋆｡⋆⋆✴︎˚｡⋆✴︎#
#                 Main Commands                 #
#˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧#

# Default target, builds the library
all: $(NAME)

# Bonus target, includes additional linked list functions
bonus: $(OBJS) $(BONUS_OBJS)
	@echo "$(PINK)Adding bonus files to $(NAME)...$(RESET)"
	$(LIBC) $(NAME) $(OBJS) $(BONUS_OBJS)

#⋆✿˚｡⋆✴︎˚｡⋆｡⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚⋆✴⋆｡⋆⋆✴︎˚｡#
#               Cleaning commands             #
#˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖#

#     ℝ𝕖𝕞𝕠𝕧𝕖 𝕠𝕓𝕛𝕖𝕔𝕥 𝕗𝕚𝕝𝕖𝕤   #
# ───୨ৎ──── ⑅ ♡ ⑅  ────୨ৎ────
clean:
	@echo "$(PINK)Cleaning up object files...$(RESET)"
	$(RM) $(OBJS) $(BONUS_OBJS)

# 𝔽𝕦𝕝𝕝 𝕔𝕝𝕖𝕒𝕟: 𝕣𝕖𝕞𝕠𝕧𝕖 𝕝𝕚𝕓𝕣𝕒𝕣𝕪 𝕗𝕚𝕝𝕖𝕤 𝕒𝕤 𝕨𝕖𝕝𝕝 #
# ───୨ৎ──── ⑅ ♡ ⑅  ────୨ৎ────

fclean: clean
	@echo "$(PINK)Removing $(NAME) and libft.so...$(RESET)"
	$(RM) $(NAME)
	$(RM) libft.so

# ℝ𝕖𝕓𝕦𝕚𝕝𝕕 𝕖𝕧𝕖𝕣𝕪𝕥𝕙𝕚𝕟𝕘 𝕗𝕣𝕠𝕞  𝕤𝕔𝕣𝕒𝕥𝕔𝕙 #
# ───୨ৎ──── ⑅ ♡ ⑅  ────୨ৎ────
re: fclean all

#⋆✴︎˚｡⋆✴︎˚｡⋆｡⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆⋆✴︎˚｡⋆✿⋆˚✴⋆✴˚｡⋆⋆✴︎˚⋆✴#
#                 Phony Targets                 #
#˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧₊˚♡˚₊‧⁺˖˖⁺‧#

.PHONY: all bonus so clean fclean re

so: re bonus
	rm -f libft.so
	$(CC) -nostartfiles -fPIC ${CFLAGS} ${SRCS}
	$(CC) -nostartfiles -shared -o libft.so ${OBJS} $(BONUS_OBJS)

#  ૮ ˶ᵔ ᵕ ᵔ˶ ა                               ✧₊⁺✧₊ ᓚᘏᗢ
